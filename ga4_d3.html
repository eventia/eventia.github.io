<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>다이어리 쇼핑몰</title>
    <link rel="stylesheet" href="style.css">
    <script>
        // GA4 측정 ID 설정 파일 로드
        fetch('ga4-config.txt')
            .then(response => response.text())
            .then(measurementId => {
                // Google tag (gtag.js) 로더
                const script = document.createElement('script');
                script.async = true;
                script.src = "https://www.googletagmanager.com/gtag/js?id=" + measurementId;
                document.head.appendChild(script);

                // GA4 기본 설정
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', measurementId);
            });

        // 장바구니 이벤트 처리
        function addToCart() {
            gtag('event', 'add_to_cart', {
                currency: 'KRW',
                value: 5000,
                items: [{
                    item_id: 'diary_2024',
                    item_name: '만년 프리미엄 다이어리',
                    price: 5000,
                    quantity: 1
                }]
            });
            
            alert('장바구니에 상품이 담겼습니다!');
        }
    </script>
</head>
<body>
    <div class="product">
        <h1 class="product-title">만년 프리미엄 다이어리</h1>
        <img src="./img/diary.jpg" width="400" height="300" alt="다이어리 이미지" class="product-image">
        <p class="product-price">가격: 5,000원</p>
        <p>수량: 1개</p>
        <button class="add-to-cart" onclick="addToCart()">장바구니 담기</button>
    </div>
</body>
</html>
